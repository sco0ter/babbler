<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc -->
<title>ReconnectionStrategy (Babbler 0.9.0)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReconnectionStrategy (Babbler 0.9.0)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":1,"i1":1,"i2":6,"i3":18,"i4":1,"i5":1,"i6":1};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReconnectionStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">rocks.xmpp.core.session</a></div>
<h2 title="Interface ReconnectionStrategy" class="title">Interface ReconnectionStrategy</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<pre><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/FunctionalInterface.html?is-external=true" title="class or interface in java.lang" class="externalLink">@FunctionalInterface</a>
public interface <span class="typeNameLabel">ReconnectionStrategy</span></pre>
<div class="block">A strategy for reconnection logic, i.e. when and in which interval reconnection attempts will happen. You can provide
 your own strategy by implementing this interface.

 <p>Alternatively you can use some of the predefined strategies which you can retrieve by one of the static
 methods.</p>

 <p>E.g. <a href="#alwaysAfter(java.time.Duration)"><code>alwaysAfter(Duration)</code></a> always tries to reconnect after a fix amount of time.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="XmppSessionConfiguration.Builder.html#reconnectionStrategy(rocks.xmpp.core.session.ReconnectionStrategy)"><code>XmppSessionConfiguration.Builder.reconnectionStrategy(ReconnectionStrategy)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#alwaysAfter(java.time.Duration)">alwaysAfter</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;duration)</code></th>
<td class="colLast">
<div class="block">Reconnects always after a fix duration, e.g. after 10 seconds.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#alwaysRandomlyAfter(java.time.Duration,java.time.Duration)">alwaysRandomlyAfter</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;min,
                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;max)</code></th>
<td class="colLast">
<div class="block">Reconnects always after a random duration which lies between the given min and max duration, e.g. after 10-20
 seconds.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNextReconnectionAttempt(int,java.lang.Throwable)">getNextReconnectionAttempt</a></span>&#8203;(int&nbsp;attempt,
                          <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;cause)</code></th>
<td class="colLast">
<div class="block">Gets the duration after which the next reconnection is attempted.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mayReconnect(int,java.lang.Throwable)">mayReconnect</a></span>&#8203;(int&nbsp;attempt,
            <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;e)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#none()">none</a></span>()</code></th>
<td class="colLast">
<div class="block">Reconnection won't happen automatically, i.e. it's disabled.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onSystemShutdownFirstOrElseSecond(rocks.xmpp.core.session.ReconnectionStrategy,rocks.xmpp.core.session.ReconnectionStrategy)">onSystemShutdownFirstOrElseSecond</a></span>&#8203;(<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;first,
                                 <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;second)</code></th>
<td class="colLast">
<div class="block">Uses a hybrid reconnection strategy, which uses the first one on system shutdown and the second one on every
 other disconnection cause.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#truncatedBinaryExponentialBackoffStrategy(int,int)">truncatedBinaryExponentialBackoffStrategy</a></span>&#8203;(int&nbsp;slotTime,
                                         int&nbsp;ceiling)</code></th>
<td class="colLast">
<div class="block">This is the default reconnection strategy.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="mayReconnect(int,java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mayReconnect</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;mayReconnect&#8203;(int&nbsp;attempt,
                             <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;e)</pre>
</li>
</ul>
<a id="getNextReconnectionAttempt(int,java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextReconnectionAttempt</h4>
<pre class="methodSignature"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;getNextReconnectionAttempt&#8203;(int&nbsp;attempt,
                                    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a>&nbsp;cause)</pre>
<div class="block">Gets the duration after which the next reconnection is attempted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>attempt</code> - The current reconnection attempt. The first attempt is 0, the second attempt is 1, etc...</dd>
<dd><code>cause</code> - The cause for the disconnection.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The duration after which the next reconnection is attempted.</dd>
</dl>
</li>
</ul>
<a id="truncatedBinaryExponentialBackoffStrategy(int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>truncatedBinaryExponentialBackoffStrategy</h4>
<pre class="methodSignature">static&nbsp;<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;truncatedBinaryExponentialBackoffStrategy&#8203;(int&nbsp;slotTime,
                                                                      int&nbsp;ceiling)</pre>
<div class="block">This is the default reconnection strategy.

 <p>It exponentially increases the time span from which a random value for the next reconnection attempt is
 chosen. The formula for doing this, is: <code>(2<sup>n</sup> - 1) * s</code>, where <code>n</code> is the number
 of reconnection attempt and <code>s</code> is the slot time, which is 60 seconds by default.</p>

 <p>In practice this means, the first reconnection attempt occurs after a random period of time between 0 and 60
 seconds.<br> The second attempt chooses a random number &gt;= 0 and &lt; 180 seconds.<br> The third attempt
 chooses a random number &gt;= 0 and &lt; 420 seconds.<br> The fourth attempt chooses a random number &gt;= 0 and
 &lt; 900 seconds.<br> The fifth attempt chooses a random number &gt;= 0 and &lt; 1860 seconds (= 31
 minutes)<br></p>

 <p>The strategy is called "truncated", because it won't increase the time span after the nth iteration, which
 means in the example above, the sixth and any further attempt behaves equally to the fifth attempt.</p>

 <p>This "truncated binary exponential backoff" is the <a href="https://xmpp.org/rfcs/rfc6120.html#tcp-reconnect">recommended
 reconnection strategy by the XMPP specification</a>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slotTime</code> - The slot time (in seconds), usually 60.</dd>
<dd><code>ceiling</code> - The ceiling, i.e. when the time is truncated. E.g. if the ceiling is 4, the back off is truncated
                 at the 5th reconnection attempt (it starts at zero).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The truncated binary exponential backoff strategy.</dd>
</dl>
</li>
</ul>
<a id="alwaysAfter(java.time.Duration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alwaysAfter</h4>
<pre class="methodSignature">static&nbsp;<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;alwaysAfter&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;duration)</pre>
<div class="block">Reconnects always after a fix duration, e.g. after 10 seconds. When a disconnection is detected the first
 reconnection attempt is started after the given duration. If the attempt fails, the second one is started again
 after the same duration and so on.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>duration</code> - The fix duration after which a reconnection is attempted.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reconnection strategy.</dd>
</dl>
</li>
</ul>
<a id="alwaysRandomlyAfter(java.time.Duration,java.time.Duration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alwaysRandomlyAfter</h4>
<pre class="methodSignature">static&nbsp;<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;alwaysRandomlyAfter&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;min,
                                                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;max)</pre>
<div class="block">Reconnects always after a random duration which lies between the given min and max duration, e.g. after 10-20
 seconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>min</code> - The min duration after which a reconnection is attempted.</dd>
<dd><code>max</code> - The max duration.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reconnection strategy.</dd>
</dl>
</li>
</ul>
<a id="onSystemShutdownFirstOrElseSecond(rocks.xmpp.core.session.ReconnectionStrategy,rocks.xmpp.core.session.ReconnectionStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onSystemShutdownFirstOrElseSecond</h4>
<pre class="methodSignature">static&nbsp;<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;onSystemShutdownFirstOrElseSecond&#8203;(<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;first,
                                                              <a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;second)</pre>
<div class="block">Uses a hybrid reconnection strategy, which uses the first one on system shutdown and the second one on every
 other disconnection cause.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>first</code> - The first strategy.</dd>
<dd><code>second</code> - The second strategy.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reconnection strategy.</dd>
</dl>
</li>
</ul>
<a id="none()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>none</h4>
<pre class="methodSignature">static&nbsp;<a href="ReconnectionStrategy.html" title="interface in rocks.xmpp.core.session">ReconnectionStrategy</a>&nbsp;none()</pre>
<div class="block">Reconnection won't happen automatically, i.e. it's disabled.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reconnection strategy.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReconnectionStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2022 <a href="http://xmpp.rocks">XMPP.rocks</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
